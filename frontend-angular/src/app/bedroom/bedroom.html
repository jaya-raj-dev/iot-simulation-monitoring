<div class="bedroom-section">
  <h2>Bedrooms</h2>

  <div class="add-bedroom">
    <select [(ngModel)]="selectedRoomName">
      <option value="" disabled>Select Bedroom</option>

      <option
        *ngFor="let room of bedroomOptions"
        [value]="room"
        [disabled]="isBedroomAdded(room)">
        {{ room }}
      </option>
    </select>

    <button
      (click)="addBedroom()"
      [disabled]="bedrooms.length >= 2">
      Add Bedroom
    </button>
  </div>

  <p *ngIf="bedrooms.length >= 2" class="warning">
    Only 2 bedrooms allowed 
  </p>

  <ul class="bedroom-list">
    <li *ngFor="let b of bedrooms"
        [class.selected]="b === selectedBedroom">
 <ng-container *ngIf="editingBedroom?.id !== b.id">
      <span>{{ b.name }}</span>

      <div class="buttons">
        <button (click)="selectBedroom(b)">View Sensors</button>
            <button (click)="startEdit(b)">Edit</button>
        <button (click)="deleteBedroom(b.id)">Delete</button>
      </div>
      </ng-container>
       <!-- EDIT MODE -->
  <ng-container *ngIf="editingBedroom?.id === b.id">
    <input [(ngModel)]="editRoomName" />

    <div class="buttons">
      <button (click)="updateBedroom()">Save</button>
      <button (click)="cancelEdit()">Cancel</button>
    </div>
  </ng-container>
    </li>
  </ul>
</div>

<hr>

<app-sensor
  *ngIf="selectedBedroom"
  [bedroom]="selectedBedroom">
</app-sensor>
